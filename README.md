# 📊 ELK 미디어 채널 이용 분석
우리 FISA 아카데미에서 제공해준 우리은행 카드정보를 활용하여 ELK을 통해 미디어 채널 이용을 분석한 프로젝트입니다.

# 👥팀소개
<div align="center">
  
|신준수|문민경|최소영|장송하|
|:---:|:---:|:---:|:---:|
|[]()|[]()|[](https)|[jangongha](https://github.com/songhajang)|
|<img width="200" height="250" alt="Image" src="" />|<img width="200" height="250" alt="Image" src="" />|<img width="200" height="250" alt="Image" src="" />|<img width="200" height="250" alt="Image" src="https://github.com/user-attachments/assets/36f811b5-e8e9-43f4-b833-b4b9dae40e82" />|
  
</div>

### ❓ELK 란
**ELK Stack**은 로그 및 데이터 분석, 시각화를 위한 오픈소스 기반 통합 플랫폼입니다.  
**Elasticsearch**, **Logstash**, **Kibana**의 머리글자를 따서 ELK라 부르며,  로그 분석, 보안 모니터링, 트랜잭션 추적, 사용자 행동 분석 등에 활용됩니다.

**각 요소별로 하는 역할**

- 🔎 **Elasticsearch**:  
  실시간으로 데이터를 저장하고 검색할 수 있는 분산형 검색 및 분석 엔진입니다.

- 🛠️ **Logstash** *(추후 연동 예정)*:  
  다양한 소스로부터 데이터를 수집하고 변환하여 Elasticsearch로 전달하는 데이터 파이프라인 도구입니다.

- 📊 **Kibana**:  
  Elasticsearch에 저장된 데이터를 시각화하고, 대시보드를 구성할 수 있는 사용자 인터페이스 도구입니다.


<br>

# 🧭 프로젝트 목적

ELK를 이용한 `cards` index(table)에서 **미디어 채널 이용 여부**에 따른 거주 지역, 나이, 성별, 회원 등급, 소비 카테고리별 분석하여 주 미디어 채널을 이용하는 고객을 분석하여 결과를 도출하는것을 목표를 프로젝트를 진행하였습니다.
 
**미디어 채널 여부를 선정한 이유**:
- 타겟의 연령대 별 마케팅 전략 수립
- 회원 등급 및 지역 기반 채널 전략 강화

---

# 🛠️ 테스트 환경
- **환경세팅**: Elasticsearch 7.11.2 / Kibana 7.11.2 / logstash 7.11.2 (향후 사용 예정)
- **운영체제**: Windows 10
---

# 🧩 데이터 셋

### ✅ 인덱스: `cards`
**우리 FISA 아카데미**에서 제공한 **우리은행 카드 데이터**를 기반으로 한 `cards` 인덱스 구축하였습니다.

### ✅ 인덱스: `range_test_index`
`cards` 인덱스의 거주지 필드를 기준으로 각 거주지에 해당하는 **위도(`lat`)와 경도(`lon`) 정보를 저장**한 보조 인덱스입니다.  
해당 인덱스는 **Kibana의 Geo Map 시각화**를 가능하게 하기 위해 별도로 생성되었으며, 각 지역명과 이를 매핑한 좌표 정보가 포함되어 있습니다.

> **📌 왜 별도로 생성했는가?**  
> `cards` 인덱스는 추후 **데이터 파이프라인(Logstash, Filebeat 등)** 을 통해 정제 및 확장할 예정입니다.  
> 하지만 현재 단계에서는 실험적 시각화 테스트가 주 목적이므로, **원본 데이터의 무결성을 유지**한 상태에서 Geo Map 구성 실습을 진행하고자 `range_test_index`를 별도로 구축하였습니다.

---

# 📈 시각화 구성 (Kibana 대시보드)
`TODO: 내용 수정하기`

| 시각화 종류     | 설명                                               |
|----------------|--------------------------------------------------|
| 파이 차트       | `media_use_yn` 비율 분포                                 |
| 히스토그램      | 나이대별 `media_use_yn` 분석 (10세 단위 버킷)               |
| 스택 막대 차트   | 성별별 채널 이용률 분석 (`gender` + `media_use_yn`)       |
| 영역 차트       | `membership_grade`별 이용률 변화                         |
| 테이블 차트      | 지역 + 카테고리별 채널 이용률 매트릭스                     |
| 지도 시각화     | 지역별 이용률 Geo Map (`geo_point` 기준)                |

---


# 🧠 주요 분석 결과 및 인사이트
`TODO: 분석한 차트 사진 입력 및 목적에 대해 작성하고, 
예상했던 기준치나 예측치를 입력해주세용. 마지막으로 결과는 이렇게~ 나왔따~ 이런식으로 진행 부탁드립니당`

## 🔹 1. 나이별 디지털 채널 이용 패턴

## 🔹 2. 소비 카테고리별 디지털 채널 활용

## 🔹 3. 성별 & 디지털 채널 이용률

## 🔹 4. 회원등급별 디지털 채널 이용 분석

## 🔹 5. 거주지별 이용 패턴 (지역 기반 분석)

<br>

## 🔍 테스트 결과에 대한 고찰
`TODO: 테스트를 해본 후 고찰에 대해 작성해주세용`
### ✅ 결론
- 

<br>

# 🚀 트러블 슈팅

## 🚩 Kibana 의 MAP 시각화 사용시 이슈

- MAP의 방식을 이용할려고, `위도`, `경도` 가상 필드로 만들었지만 `geo_point` 타입으로 저장되지 않은 형태라 MAP의 방식을 이용 할 수 없었습니다.
- **해결 방법**  
  - **미디어를 이용 중인 고객의 데이터값**을 거주지 정보에 해당하는 위치의 위도,경도를 구하여 python을 이용해 `geo_point`타입으로 **range_test_index** 인덱스에 담아 해당 인덱스를 패턴화 하여 MAP 생성시 사용하여 해결했습니다. <br>
  ✅ *문제 해결 완료*


# 🌟 향후 계획
- 파이프라인(filebeat, logstash)를 이용하여 필요한 데이터만 뽑아 만들어 볼 예정입니다.
- 현재 환경은 window 로 제작하여 향후엔 Liunx 에서도 구동구현을 해 볼 예정입니다.
